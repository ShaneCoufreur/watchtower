build:
  main: ./main.go
  goos:
    - linux
    - windows
  goarch:
    - amd64
    - arm
    - arm64
archive:
  name_template: "{{.ProjectName}}_{{.Os}}_{{.Arch}}"
  format: tar.gz
  replacements:
    arm: armhf
    arm64: arm64v8
    amd64: amd64
    386: 386
    darwin: macOS
    linux: linux
  format_overrides:
    - goos: windows
      format: zip
  files:
    - LICENSE.md
dockers:
  -
    goos: linux
    goarch: amd64
    goarm: ''
    binary: watchtower
    image: containrrr/watchtower
    dockerfile: dockerfile/amd64/Dockerfile
    tag_templates:
      - 'latest'
      - '{{ .Version }}'
  -
    goos: linux
    goarch: arm
    goarm: 6
    binary: watchtower
    image: containrrr/watchtower
    dockerfile: dockerfile/armhf/Dockerfile
    tag_templates:
      - 'armhf-latest'
      - 'armhf-{{ .Version }}'
  -
    goos: linux
    goarch: arm64
    goarm: ''
    binary: watchtower
    image: containrrr/watchtower
    dockerfile: dockerfile/arm64v8/Dockerfile
    tag_templates:
      - 'arm64v8-latest'
      - 'arm64v8-{{ .Version }}'
